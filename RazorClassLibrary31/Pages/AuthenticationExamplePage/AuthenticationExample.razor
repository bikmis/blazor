@page "/authentication-test"
@using System.Security.Claims;

    <h3>Authentication Example</h3>
    <br />
    <br />

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Claim Type</th>
                <th>Claim Value</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var claim in claims)
            {
                <tr>
                    <td>@claim.Type </td>
                    <td>@claim.Value</td>
                </tr>
            }
        </tbody>
    </table>

    <CascadingAuthenticationState>
        <AuthorizeView>
            <Authorized>
                Is User Authenticated?: @context.User.Identity.IsAuthenticated
                <br />
                Authentication Type: @context.User.Identity.AuthenticationType
                <br />
                User Name: @context.User.Identity.Name
                <br />
                Email Address: @context.User.Claims.Where(c => c.Type == ClaimTypes.Email).FirstOrDefault().Value
                <br />
                <ul>
                    @foreach (var claim in @context.User.Claims)
                    {
                        <li>@claim.Type: @claim.Value</li>
                    }
                </ul>
            </Authorized>
            <NotAuthorized>
                You are not authorized.
            </NotAuthorized>
        </AuthorizeView>
    </CascadingAuthenticationState>


    @code {

    }
